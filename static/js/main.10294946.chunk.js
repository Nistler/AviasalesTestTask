(this.webpackJsonpbooking=this.webpackJsonpbooking||[]).push([[0],{13:function(n,e,t){n.exports=t.p+"static/media/cursor.43a1ff89.svg"},21:function(n,e,t){n.exports=t.p+"static/media/logo.0c089234.svg"},22:function(n,e,t){n.exports=t(30)},30:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(17),o=t.n(i),c=t(4),s=t(6),l=t(5),u=t.n(l),f=t(3),d=t(7),p=t(8),b=t(9),h=t(12),x=t(11),m=function(n){var e=n%60,t=(n-e)/60;return t<1?"".concat(e,"\u043c"):"".concat(t,"\u0447 ").concat(e,"\u043c")},g=function(n,e){var t=new Date(Date.parse(n)),r=new Date(t);return r.setMinutes(t.getMinutes()+e),"".concat(t.getUTCHours(),":").concat(t.getMinutes()," - ").concat(r.getUTCHours(),":").concat(r.getMinutes())},v=function(n){return n.join(", ")},k=function(n){return 1===n?"\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":n>1&&n<5?"\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438":"\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"},j=function(){var n=Object(d.a)(u.a.mark((function n(e,t){var r,a,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],n.prev=1,n.next=4,fetch(e);case 4:return a=n.sent,n.next=7,a.json();case 7:if(i=n.sent,r=i.tickets,!i.stop){n.next=11;break}return n.abrupt("return",[].concat(Object(c.a)(t),Object(c.a)(r)));case 11:n.next=19;break;case 13:return n.prev=13,n.t0=n.catch(1),console.log(n.t0),n.next=18,j(e,t);case 18:return n.abrupt("return",n.sent);case 19:return n.next=21,j(e,[].concat(Object(c.a)(t),Object(c.a)(r)));case 21:return n.abrupt("return",n.sent);case 22:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e,t){return n.apply(this,arguments)}}(),O=function(n,e){return n.filter((function(n){return function(n,e){var t=e.oneTransfer,r=e.twoTransfers,a=e.threeTransfers,i=e.without;return!(!i||0!==n.segments[0].stops.length)||(!(!t||1!==n.segments[0].stops.length)||(!(!r||2!==n.segments[0].stops.length)||(!(!a||3!==n.segments[0].stops.length)||!(t||r||a||i))))}(n,e)})).slice(0,5)},w=t(1),E=t(2);function y(){var n=Object(w.a)(["\n  width: 141px;\n  margin-right: 20px;\n"]);return y=function(){return n},n}function S(){var n=Object(w.a)(['\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px; /* identical to box height, or 150% */\n  display: flex;\n  align-items: center;\n  color: #4a4a4a;\n']);return S=function(){return n},n}function T(){var n=Object(w.a)(['\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 18px; /* identical to box height, or 150% */\n  display: flex;\n  align-items: center;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #a0b0b9;\n  margin: 0;\n']);return T=function(){return n},n}function C(){var n=Object(w.a)(["\n  margin: 0 0 10px 20px;\n  height: 39px;\n  display: flex;\n  justify-content: space-between;\n"]);return C=function(){return n},n}function F(){var n=Object(w.a)(["\n  width: 110px;\n  height: 36px;\n"]);return F=function(){return n},n}function z(){var n=Object(w.a)(['\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 24px;\n  display: flex;\n  align-items: center;\n  color: #2196f3;\n']);return z=function(){return n},n}function H(){var n=Object(w.a)(["\n  padding: 20px 0 20px 20px;\n  width: 432px;\n  height: 36px;\n  display: flex;\n  justify-content: space-between;\n"]);return H=function(){return n},n}function M(){var n=Object(w.a)(["\n  height: 184px;\n  margin-bottom: 20px;\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n"]);return M=function(){return n},n}var R=E.b.div(M()),L=E.b.div(H()),D=E.b.div(z()),I=E.b.img(F()),U=E.b.div(C()),q=E.b.h3(T()),B=E.b.div(S()),J=E.b.div(y()),W=function(n){Object(h.a)(t,n);var e=Object(x.a)(t);function t(){return Object(p.a)(this,t),e.apply(this,arguments)}return Object(b.a)(t,[{key:"render",value:function(){var n=this.props.ticket;return a.a.createElement(R,null,a.a.createElement(L,null,a.a.createElement(D,null,n.price.toLocaleString("ru-RU")," \u0420"),a.a.createElement(I,{className:"companyLogo",src:"//pics.avs.io/99/36/".concat(n.carrier,".png"),alt:"logo"})),a.a.createElement(U,null,a.a.createElement(J,null,a.a.createElement(q,null,n.segments[0].origin," - ",n.segments[0].destination),a.a.createElement(B,null,g(n.segments[0].date,n.segments[0].duration))),a.a.createElement(J,null,a.a.createElement(q,null,"\u0412 \u043f\u0443\u0442\u0438"),a.a.createElement(B,null,m(n.segments[0].duration))),a.a.createElement(J,null,a.a.createElement(q,null,n.segments[0].stops.length," ",k(n.segments[0].stops.length)),a.a.createElement(B,null,v(n.segments[0].stops)))),a.a.createElement(U,null,a.a.createElement(J,null,a.a.createElement(q,null,n.segments[1].origin," - ",n.segments[1].destination),a.a.createElement(B,null,g(n.segments[1].date,n.segments[1].duration))),a.a.createElement(J,null,a.a.createElement(q,null,"\u0412 \u043f\u0443\u0442\u0438"),a.a.createElement(B,null,m(n.segments[1].duration))),a.a.createElement(J,null,a.a.createElement(q,null,n.segments[1].stops.length," ",k(n.segments[1].stops.length)),a.a.createElement(B,null,v(n.segments[1].stops)))))}}]),t}(r.Component),N=t(21),$=t.n(N),A=t(13),G=t.n(A);function K(){var n=Object(w.a)(["\n  &:checked {\n    position: absolute;\n    left: -9999px;\n  }\n  &:not(:checked) {\n    position: absolute;\n    left: -9999px;\n  }\n  &:not(:checked) + label:after {\n    opacity: 0;\n  }\n\n  &:checked + label:after {\n    opacity: 1;\n  }\n\n  &:checked + label,\n  &:not(:checked) + label {\n    display: inline-block;\n    position: relative;\n    padding-left: 28px;\n    line-height: 40px;\n    width: 180px;\n    cursor: url(",'), pointer;\n  }\n\n  &:checked + label:before,\n  &:not(:checked) + label:before {\n    content: "";\n    position: absolute;\n    left: 0px;\n    top: 10px;\n    width: 20px;\n    height: 20px;\n    border: 1px solid #2196f3;\n    box-sizing: border-box;\n    border-radius: 2px;\n  }\n\n  &:checked + label:after,\n  &:not(:checked) + label:after {\n    content: "";\n    position: absolute;\n    -webkit-transition: all 0.2s ease;\n    -moz-transition: all 0.2s ease;\n    -o-transition: all 0.2s ease;\n    transition: all 0.2s ease;\n    left: 5px;\n    top: 15px;\n    width: 9px;\n    height: 5px;\n    border-radius: 1px;\n    border-left: 2px solid #2196f3;\n    border-bottom: 2px solid #2196f3;\n    -webkit-transform: rotate(-45deg);\n    -moz-transform: rotate(-45deg);\n    -o-transform: rotate(-45deg);\n    -ms-transform: rotate(-45deg);\n    transform: rotate(-45deg);\n  }\n  &:focus + label:before {\n    outline-style: solid;\n    outline-color: transparent;\n    border: 1px solid #2196f3;\n    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n  }\n']);return K=function(){return n},n}function P(){var n=Object(w.a)(["\n  position: absolute;\n  visibility: hidden;\n  cursor: url(",'), pointer;\n  &:focus {\n    outline-style: none;\n    border: none;\n    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n  }\n  &:after {\n    content: "\u2261";\n  }\n  @media (max-width: 800px) {\n    visibility: visible;\n    font-family: Open Sans;\n    line-height: 20px;\n    border: 1px solid #dfe5ec;\n    top: 13px;\n    width: ',";\n    height: 40px;\n    padding-bottom: 5px;\n    background: ",";\n    color: ",";\n    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n    border-radius: 5px;\n    text-align: center;\n    font-size: 2.3em;\n    font-weight: 600;\n    z-index: 2;\n    transition: 0.2s;\n  }\n"]);return P=function(){return n},n}function Q(){var n=Object(w.a)(["\n            "," 0.5s ease-in-out\n          "]);return Q=function(){return n},n}function V(){var n=Object(w.a)(["\n  position: relative;\n  top: 160px;\n  width: 232px;\n  height: 252px;\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  @media (max-width: 800px) {\n    position: absolute;\n    visibility: ",";\n    animation: ",";\n    z-index: 1;\n    left: initial;\n    top: 45px;\n    overflow: hidden;\n  }\n"]);return V=function(){return n},n}function X(){var n=Object(w.a)(["\n  0% {\n    height: 0px;\n    visibility: hidden;\n  }\n  40% {\n    height: 0px;\n    visibility: visible;\n  }\n  100% {\n    height: 252px;\n    visibility: visible;\n  }\n"]);return X=function(){return n},n}function Y(){var n=Object(w.a)(["\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  background: ",";\n  color: ",";\n"]);return Y=function(){return n},n}function Z(){var n=Object(w.a)(["\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  background: ",";\n  color: ",";\n"]);return Z=function(){return n},n}function _(){var n=Object(w.a)(['\n  width: 252px;\n  height: 50px;\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: ',";\n  cursor: url(","), pointer;\n  background: #ffffff;\n  border: 1px solid #dfe5ec;\n  box-sizing: border-box;\n  transition-duration: 0.5s;\n  &:hover {\n    border: 1px solid #2196f3;\n    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n    -webkit-box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  }\n  &:focus {\n    outline-style: none;\n    border: none;\n    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n  }\n"]);return _=function(){return n},n}function nn(){var n=Object(w.a)(["\n  height: 40px;\n  padding-left: 20px;\n  display: flex;\n  align-items: center;\n  color: ",";\n  &:hover {\n    background-color: #f1fcff;\n  }\n"]);return nn=function(){return n},n}function en(){var n=Object(w.a)(["\n  display: inline-block;\n  border: 4px solid rgba(0, 0, 0, 0.1);\n  border-left-color: #2196f3;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  animation: "," 1.2s linear infinite;\n"]);return en=function(){return n},n}function tn(){var n=Object(w.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return tn=function(){return n},n}function rn(){var n=Object(w.a)(["\n  width: 504px;\n"]);return rn=function(){return n},n}function an(){var n=Object(w.a)(["\n  margin-top: 20px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]);return an=function(){return n},n}function on(){var n=Object(w.a)(["\n  position: relative;\n  top: 160px;\n  padding-left: 20px;\n\n  @media (max-width: 800px) {\n    top: 0px;\n    padding-left: initial;\n  }\n"]);return on=function(){return n},n}function cn(){var n=Object(w.a)(['\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 20px;\n']);return cn=function(){return n},n}function sn(){var n=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n\n  @media (max-width: 800px) {\n    justify-content: initial;\n  }\n"]);return sn=function(){return n},n}function ln(){var n=Object(w.a)(['\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  padding: 20px 0 10px 20px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #4a4a4a;\n']);return ln=function(){return n},n}function un(){var n=Object(w.a)(["\n  position: absolute;\n  top: 40px;\n  @media (max-width: 800px) {\n    position: initial;\n  }\n"]);return un=function(){return n},n}function fn(){var n=Object(w.a)(["\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  @media (max-width: 800px) {\n    margin-top: 5px;\n    flex-direction: column;\n    align-items: center;\n  }\n"]);return fn=function(){return n},n}var dn=E.b.div(fn()),pn=E.b.img(un()),bn=E.b.div(ln()),hn=E.b.div(sn()),xn=E.b.label(cn()),mn=E.b.div(on()),gn=E.b.div(an()),vn=E.b.div(rn()),kn=Object(E.c)(tn()),jn=E.b.div(en(),kn),On=E.b.div(nn(),(function(n){return n.disabled?"#cecece !important":"#4a4a4a !important"})),wn=E.b.button(_(),(function(n){return n.disabled?"#cecece !important":"#4a4a4a"}),G.a),En=Object(E.b)(wn)(Z(),(function(n){return n.id===n.active?"#2196f3":"#ffffff"}),(function(n){return n.id===n.active?"#ffffff":"#4a4a4a"})),yn=Object(E.b)(wn)(Y(),(function(n){return n.id===n.active?"#2196f3":"#ffffff"}),(function(n){return n.id===n.active?"#ffffff":"#4a4a4a"})),Sn=Object(E.c)(X()),Tn=E.b.div(V(),(function(n){return n.isHidden?"hidden":"visible"}),(function(n){return n.isHidden?"":Object(E.a)(Q(),Sn)})),Cn=E.b.button(P(),G.a,(function(n){return n.isHidden?"40px":"234px"}),(function(n){return n.isHidden?"#ffffff":"#2196f3"}),(function(n){return n.isHidden?"#4a4a4a":"#ffffff"})),Fn=E.b.input(K(),G.a),zn=function(n){Object(h.a)(t,n);var e=Object(x.a)(t);function t(n){var r;return Object(p.a)(this,t),(r=e.call(this,n)).getRequest=Object(d.a)(u.a.mark((function n(){var e,t,a,i,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.state.uiState,r.setState({uiState:Object(f.a)(Object(f.a)({},e),{},{isLoading:!0})}),n.prev=2,n.next=5,fetch("https://front-test.beta.aviasales.ru/search");case 5:return t=n.sent,n.next=8,t.json();case 8:return a=n.sent,i="https://front-test.beta.aviasales.ru/tickets?searchId=".concat(a.searchId),n.next=12,j(i,[]);case 12:o=n.sent,r.setState({tickets:o,ticketsForRender:o.slice(0,5),uiState:Object(f.a)(Object(f.a)({},e),{},{isLoading:!1})}),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(2),console.log(n.t0);case 19:case"end":return n.stop()}}),n,null,[[2,16]])}))),r.toggleMenu=function(){var n=r.state.uiState;r.setState({uiState:Object(f.a)(Object(f.a)({},n),{},{isMenuHiden:!n.isMenuHiden})})},r.handleCheckbox=function(n){var e=n.target,t=r.state,a=t.filters,i=t.tickets,o=t.uiState;if(null!==i){var c;c="all"===e.id?a.all?{all:!1,without:!1,oneTransfer:!1,twoTransfers:!1,threeTransfers:!1}:{all:!0,without:!0,oneTransfer:!0,twoTransfers:!0,threeTransfers:!0}:Object(s.a)({all:!1},e.id,!a[e.id]);var l=O(i,Object(f.a)(Object(f.a)({},a),c));r.setState({filters:Object(f.a)(Object(f.a)({},a),c),ticketsForRender:l,uiState:Object(f.a)(Object(f.a)({},o),{},{buttonsState:null})})}},r.handleSort=function(n){var e=n.target,t=r.state,a=t.tickets,i=t.filters,o=t.uiState;if(null!==a)if(o.buttonsState!==e.id){var s=Object(c.a)(a),l="cheapest"===e.id?s.sort((function(n,e){return n.price-e.price})):s.sort((function(n,e){return n.segments[0].duration-e.segments[0].duration})),u=O(l,i),d="cheapest"===e.id?"cheapest":"fastest";r.setState({ticketsForRender:u,uiState:Object(f.a)(Object(f.a)({},o),{},{buttonsState:d})})}else r.setState({uiState:Object(f.a)(Object(f.a)({},o),{},{buttonsState:null}),ticketsForRender:a.slice(0,5)})},r.state={tickets:null,ticketsForRender:null,uiState:{isLoading:!0,isMenuHiden:!0,buttonsState:null},filters:{oneTransfer:!1,twoTransfers:!1,threeTransfers:!1,all:!1,without:!1}},r}return Object(b.a)(t,[{key:"componentDidMount",value:function(){this.getRequest()}},{key:"render",value:function(){var n=this.state,e=n.ticketsForRender,t=n.uiState,r=n.filters;return a.a.createElement(dn,null,a.a.createElement(pn,{src:$.a,alt:"\u0410\u0432\u0438\u0430\u0441\u0435\u0439\u043b\u0441"}),a.a.createElement(hn,null,a.a.createElement(Cn,{isHidden:t.isMenuHiden,onClick:this.toggleMenu}),a.a.createElement(Tn,{isHidden:t.isMenuHiden},a.a.createElement(bn,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),a.a.createElement("form",null,a.a.createElement(On,{disabled:null===e},a.a.createElement(Fn,{id:"all",type:"checkbox",checked:r.all,onChange:this.handleCheckbox}),a.a.createElement(xn,{htmlFor:"all"},"\u0412\u0441\u0435")),a.a.createElement(On,{CheckboxField:!0,disabled:null===e},a.a.createElement(Fn,{id:"without",type:"checkbox",checked:r.without,onChange:this.handleCheckbox}),a.a.createElement(xn,{htmlFor:"without"},"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a")),a.a.createElement(On,{CheckboxField:!0,disabled:null===e},a.a.createElement(Fn,{id:"oneTransfer",type:"checkbox",checked:r.oneTransfer,onChange:this.handleCheckbox}),a.a.createElement(xn,{htmlFor:"oneTransfer"},"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430")),a.a.createElement(On,{CheckboxField:!0,disabled:null===e},a.a.createElement(Fn,{id:"twoTransfers",type:"checkbox",checked:r.twoTransfers,onChange:this.handleCheckbox}),a.a.createElement(xn,{htmlFor:"twoTransfers"},"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),a.a.createElement(On,{CheckboxField:!0,disabled:null===e},a.a.createElement(Fn,{id:"threeTransfers",type:"checkbox",checked:r.threeTransfers,onChange:this.handleCheckbox}),a.a.createElement(xn,{htmlFor:"threeTransfers"},"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")))),a.a.createElement(mn,null,a.a.createElement(vn,null,a.a.createElement(En,{id:"cheapest",active:t.buttonsState,onClick:this.handleSort,disabled:null===e},"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),a.a.createElement(yn,{id:"fastest",active:t.buttonsState,onClick:this.handleSort,disabled:null===e},"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439")),a.a.createElement(gn,null,t.isLoading?a.a.createElement(jn,null):e.map((function(n){return a.a.createElement(W,{key:Math.random().toString(36).substr(2,9),ticket:n})}))))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(zn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.10294946.chunk.js.map