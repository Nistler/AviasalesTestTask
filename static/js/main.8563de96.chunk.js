(this.webpackJsonpbooking=this.webpackJsonpbooking||[]).push([[0],{20:function(n,e,t){n.exports=t(29)},25:function(n,e,t){},29:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(16),o=t.n(i),c=(t(25),t(3)),s=t(5),l=t(6),u=t(4),f=t.n(u),d=t(7),p=t(8),h=t(9),b=t(12),x=t(11),m=function(n){var e=n%60,t=(n-e)/60;return t<1?"".concat(e,"\u043c"):"".concat(t,"\u0447 ").concat(e,"\u043c")},g=function(n,e){var t=new Date(Date.parse(n)),r=new Date(t);return r.setMinutes(t.getMinutes()+e),"".concat(t.getUTCHours(),":").concat(t.getMinutes()," - ").concat(r.getUTCHours(),":").concat(r.getMinutes())},v=function(n){return n.join(", ")},k=function(n){return 1===n?"\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":n>1&&n<5?"\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438":"\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"},w=function(){var n=Object(d.a)(f.a.mark((function n(e,t){var r,a,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],n.prev=1,n.next=4,fetch(e);case 4:return a=n.sent,n.next=7,a.json();case 7:if(i=n.sent,r=i.tickets,!i.stop){n.next=11;break}return n.abrupt("return",[].concat(Object(c.a)(t),Object(c.a)(r)));case 11:n.next=19;break;case 13:return n.prev=13,n.t0=n.catch(1),console.log(n.t0),n.next=18,w(e,t);case 18:return n.abrupt("return",n.sent);case 19:return n.next=21,w(e,[].concat(Object(c.a)(t),Object(c.a)(r)));case 21:return n.abrupt("return",n.sent);case 22:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e,t){return n.apply(this,arguments)}}(),j=function(n,e){return n.filter((function(n){return function(n,e){var t=e.oneTransfer,r=e.twoTransfers,a=e.threeTransfers,i=e.without;return!(!i||0!==n.segments[0].stops.length)||(!(!t||1!==n.segments[0].stops.length)||(!(!r||2!==n.segments[0].stops.length)||(!(!a||3!==n.segments[0].stops.length)||!(t||r||a||i))))}(n,e)})).slice(0,5)},O=t(1),E=t(2);function y(){var n=Object(O.a)(["\n  width: 141px;\n  margin-right: 20px;\n"]);return y=function(){return n},n}function S(){var n=Object(O.a)(['\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px; /* identical to box height, or 150% */\n  display: flex;\n  align-items: center;\n  color: #4a4a4a;\n']);return S=function(){return n},n}function T(){var n=Object(O.a)(['\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 18px; /* identical to box height, or 150% */\n  display: flex;\n  align-items: center;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #a0b0b9;\n  margin: 0;\n']);return T=function(){return n},n}function C(){var n=Object(O.a)(["\n  margin: 0 0 10px 20px;\n  height: 39px;\n  display: flex;\n  justify-content: space-between;\n"]);return C=function(){return n},n}function z(){var n=Object(O.a)(["\n  width: 110px;\n  height: 36px;\n"]);return z=function(){return n},n}function H(){var n=Object(O.a)(['\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 24px;\n  display: flex;\n  align-items: center;\n  color: #2196f3;\n']);return H=function(){return n},n}function M(){var n=Object(O.a)(["\n  padding: 20px 0 20px 20px;\n  width: 432px;\n  height: 36px;\n  display: flex;\n  justify-content: space-between;\n"]);return M=function(){return n},n}function F(){var n=Object(O.a)(["\n  height: 184px;\n  margin-bottom: 20px;\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n"]);return F=function(){return n},n}var R=E.b.div(F()),L=E.b.div(M()),D=E.b.div(H()),I=E.b.img(z()),U=E.b.div(C()),q=E.b.h3(T()),B=E.b.div(S()),J=E.b.div(y()),W=function(n){Object(b.a)(t,n);var e=Object(x.a)(t);function t(){return Object(p.a)(this,t),e.apply(this,arguments)}return Object(h.a)(t,[{key:"render",value:function(){var n=this.props.ticket;return a.a.createElement(R,null,a.a.createElement(L,null,a.a.createElement(D,null,n.price.toLocaleString("ru-RU")," \u0420"),a.a.createElement(I,{className:"companyLogo",src:"//pics.avs.io/99/36/".concat(n.carrier,".png"),alt:"logo"})),a.a.createElement(U,null,a.a.createElement(J,null,a.a.createElement(q,null,n.segments[0].origin," - ",n.segments[0].destination),a.a.createElement(B,null,g(n.segments[0].date,n.segments[0].duration))),a.a.createElement(J,null,a.a.createElement(q,null,"\u0412 \u043f\u0443\u0442\u0438"),a.a.createElement(B,null,m(n.segments[0].duration))),a.a.createElement(J,null,a.a.createElement(q,null,n.segments[0].stops.length," ",k(n.segments[0].stops.length)),a.a.createElement(B,null,v(n.segments[0].stops)))),a.a.createElement(U,null,a.a.createElement(J,null,a.a.createElement(q,null,n.segments[1].origin," - ",n.segments[1].destination),a.a.createElement(B,null,g(n.segments[1].date,n.segments[1].duration))),a.a.createElement(J,null,a.a.createElement(q,null,"\u0412 \u043f\u0443\u0442\u0438"),a.a.createElement(B,null,m(n.segments[1].duration))),a.a.createElement(J,null,a.a.createElement(q,null,n.segments[1].stops.length," ",k(n.segments[1].stops.length)),a.a.createElement(B,null,v(n.segments[1].stops)))))}}]),t}(r.Component);function N(){var n=Object(O.a)(['\n  &:checked {\n    position: absolute;\n    left: -9999px;\n  }\n  &:not(:checked) {\n    position: absolute;\n    left: -9999px;\n  }\n  &:not(:checked) + label:after {\n    opacity: 0;\n  }\n  \n  &:checked + label:after {\n    opacity: 1;\n  }\n\n  &:checked + label,\n  &:not(:checked) + label {\n    display: inline-block;\n    position: relative;\n    padding-left: 28px;\n    line-height: 40px;\n    width: 180px;\n    cursor: pointer;\n  }\n\n  &:checked + label:before,\n  &:not(:checked) + label:before {\n  content: "";\n  position: absolute;\n  left: 0px;\n  top: 10px;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #2196f3;\n  box-sizing: border-box;\n  border-radius: 2px;\n}\n\n&:checked + label:after,\n&:not(:checked) + label:after {\n  content: "";\n  position: absolute;\n  -webkit-transition: all 0.2s ease;\n  -moz-transition: all 0.2s ease;\n  -o-transition: all 0.2s ease;\n  transition: all 0.2s ease;\n  left: 5px;\n  top: 15px;\n  width: 9px;\n  height: 5px;\n  border-radius: 1px;\n  border-left: 2px solid #2196f3;\n  border-bottom: 2px solid #2196f3;\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  -ms-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n}\n']);return N=function(){return n},n}function $(){var n=Object(O.a)(["\n  position: absolute;\n  visibility: hidden;\n  &:focus {\n    outline-style: solid;\n    outline-color: transparent;\n    border: 1px solid #2196f3;\n  }\n  &:after {\n    content: '\u2261';\n  }\n  @media (max-width: 800px) {\n    visibility: visible;\n    font-family: Open Sans;\n    line-height: 20px;\n    border: 1px solid #dfe5ec;\n    top: 13px;\n    width: ",";\n    height: 40px;\n    padding-bottom: 5px;\n    background: ",";\n    color: ",";\n    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n    border-radius: 5px;\n    text-align: center;\n    font-size: 2.3em;\n    font-weight: 600;\n    z-index: 2;\n    transition: 0.2s;\n  }\n"]);return $=function(){return n},n}function A(){var n=Object(O.a)([""," 0.5s ease-in-out"]);return A=function(){return n},n}function G(){var n=Object(O.a)(["\n  position: relative;\n  top: 160px;\n  width: 232px;\n  height: 252px;\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  @media (max-width: 800px) {\n    position: absolute;\n    visibility: ",";\n    animation: ",";\n    z-index: 1;\n    left: initial;\n    top: 45px;\n    overflow: hidden;\n  }\n"]);return G=function(){return n},n}function K(){var n=Object(O.a)(["\n  0% {\n    height: 0px;\n    visibility: hidden;\n  }\n  40% {\n    height: 0px;\n    visibility: visible;\n  }\n  100% {\n    height: 252px;\n    visibility: visible;\n  }\n"]);return K=function(){return n},n}function P(){var n=Object(O.a)(["\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  background: ",";\n  color: ",";\n"]);return P=function(){return n},n}function Q(){var n=Object(O.a)(["\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  background: ",";\n  color: ",";\n"]);return Q=function(){return n},n}function V(){var n=Object(O.a)(['\n  width: 252px;\n  height: 50px;\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #4a4a4a;\n  background: #ffffff;\n  border: 1px solid #dfe5ec;\n  box-sizing: border-box;\n  transition-duration: 0.5s;\n  &:hover {\n    border: 1px solid #2196f3;\n    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n    -webkit-box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  }\n  &:focus {\n    outline-style: solid;\n    outline-color: transparent;\n    border: 1px solid #2196f3;\n  }\n']);return V=function(){return n},n}function X(){var n=Object(O.a)(["\n  height: 40px;\n  padding-left: 20px;\n  display: flex;\n  align-items: center;\n  color: #4a4a4a;\n  &:hover {\n    transition-duration: 0.2s;\n    background-color: #f1fcff;\n  }\n"]);return X=function(){return n},n}function Y(){var n=Object(O.a)(["\n  display: inline-block;\n  border: 4px solid rgba(0, 0, 0, 0.1);\n  border-left-color: #2196f3;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  animation: "," 1.2s linear infinite;\n"]);return Y=function(){return n},n}function Z(){var n=Object(O.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return Z=function(){return n},n}function _(){var n=Object(O.a)(["\n  width: 504px;\n"]);return _=function(){return n},n}function nn(){var n=Object(O.a)(["\n  margin-top: 20px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]);return nn=function(){return n},n}function en(){var n=Object(O.a)(["\n  position: relative;\n  top: 160px;\n  padding-left: 20px;\n\n  @media (max-width: 800px) {\n    top: 0px;\n    padding-left: initial;\n  }\n"]);return en=function(){return n},n}function tn(){var n=Object(O.a)(['\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 20px;\n']);return tn=function(){return n},n}function rn(){var n=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n\n  @media (max-width: 800px) {\n    justify-content: initial;\n  }\n"]);return rn=function(){return n},n}function an(){var n=Object(O.a)(['\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  padding: 20px 0 10px 20px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #4a4a4a;\n']);return an=function(){return n},n}var on=E.b.div(an()),cn=E.b.div(rn()),sn=E.b.label(tn()),ln=E.b.div(en()),un=E.b.div(nn()),fn=E.b.div(_()),dn=Object(E.c)(Z()),pn=E.b.div(Y(),dn),hn=E.b.div(X()),bn=E.b.button(V()),xn=Object(E.b)(bn)(Q(),(function(n){return n.id===n.active?"#2196f3":"#ffffff"}),(function(n){return n.id===n.active?"#ffffff":"#4a4a4a"})),mn=Object(E.b)(bn)(P(),(function(n){return n.id===n.active?"#2196f3":"#ffffff"}),(function(n){return n.id===n.active?"#ffffff":"#4a4a4a"})),gn=Object(E.c)(K()),vn=E.b.div(G(),(function(n){return n.isHidden?"hidden":"visible"}),(function(n){return n.isHidden?"":Object(E.a)(A(),gn)})),kn=E.b.button($(),(function(n){return n.isHidden?"40px":"234px"}),(function(n){return n.isHidden?"#ffffff":"#2196f3"}),(function(n){return n.isHidden?"#4a4a4a":"#ffffff"})),wn=E.b.input(N()),jn=function(n){Object(b.a)(t,n);var e=Object(x.a)(t);function t(n){var r;return Object(p.a)(this,t),(r=e.call(this,n)).getRequest=Object(d.a)(f.a.mark((function n(){var e,t,a,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.setState({isLoading:!0}),n.prev=1,n.next=4,fetch("https://front-test.beta.aviasales.ru/search");case 4:return e=n.sent,console.log(e),n.next=8,e.json();case 8:return t=n.sent,a="https://front-test.beta.aviasales.ru/tickets?searchId=".concat(t.searchId),n.next=12,w(a,[]);case 12:i=n.sent,console.log(i),r.setState({tickets:i,ticketsForRender:i.slice(0,5),isLoading:!1}),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(1),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[1,17]])}))),r.toggleMenu=function(){var n=r.state.isMenuHiden;r.setState({isMenuHiden:!n})},r.handleCheckbox=function(n){var e,t=n.target,a=r.state,i=a.filters,o=a.tickets;e="all"===t.id?i.all?{all:!1,without:!1,oneTransfer:!1,twoTransfers:!1,threeTransfers:!1}:{all:!0,without:!0,oneTransfer:!0,twoTransfers:!0,threeTransfers:!0}:Object(l.a)({all:!1},t.id,!i[t.id]);var c=j(o,Object(s.a)(Object(s.a)({},i),e));r.setState({filters:Object(s.a)(Object(s.a)({},i),e),ticketsForRender:c,buttonsState:null})},r.handleSort=function(n){var e=n.target,t=r.state,a=t.tickets,i=t.filters;if(t.buttonsState!==e.id){var o=Object(c.a)(a),s="cheapest"===e.id?o.sort((function(n,e){return n.price-e.price})):o.sort((function(n,e){return n.segments[0].duration-e.segments[0].duration})),l=j(s,i),u="cheapest"===e.id?"cheapest":"fastest";r.setState({ticketsForRender:l,buttonsState:u})}else r.setState({buttonsState:null,ticketsForRender:a.slice(0,5)})},r.state={tickets:null,ticketsForRender:null,isLoading:!0,isMenuHiden:!0,buttonsState:null,filters:{oneTransfer:!1,twoTransfers:!1,threeTransfers:!1,all:!1,without:!1}},r}return Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getRequest()}},{key:"render",value:function(){var n=this.state,e=n.ticketsForRender,t=n.isLoading,r=n.isMenuHiden,i=n.filters,o=n.buttonsState;return a.a.createElement(cn,null,a.a.createElement(kn,{isHidden:r,onClick:this.toggleMenu}),a.a.createElement(vn,{isHidden:r},a.a.createElement(on,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),a.a.createElement("form",null,a.a.createElement(hn,null,a.a.createElement(wn,{id:"all",type:"checkbox",checked:i.all,onChange:this.handleCheckbox}),a.a.createElement(sn,{htmlFor:"all"},"\u0412\u0441\u0435")),a.a.createElement(hn,null,a.a.createElement(wn,{id:"without",type:"checkbox",checked:i.without,onChange:this.handleCheckbox}),a.a.createElement(sn,{htmlFor:"without"},"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a")),a.a.createElement(hn,null,a.a.createElement(wn,{id:"oneTransfer",type:"checkbox",checked:i.oneTransfer,onChange:this.handleCheckbox}),a.a.createElement(sn,{htmlFor:"oneTransfer"},"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430")),a.a.createElement(hn,null,a.a.createElement(wn,{id:"twoTransfers",type:"checkbox",checked:i.twoTransfers,onChange:this.handleCheckbox}),a.a.createElement(sn,{htmlFor:"twoTransfers"},"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),a.a.createElement(hn,null,a.a.createElement(wn,{id:"threeTransfers",type:"checkbox",checked:i.threeTransfers,onChange:this.handleCheckbox}),a.a.createElement(sn,{htmlFor:"threeTransfers"},"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")))),a.a.createElement(ln,null,a.a.createElement(fn,null,a.a.createElement(xn,{id:"cheapest",active:o,onClick:this.handleSort},"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),a.a.createElement(mn,{id:"fastest",active:o,onClick:this.handleSort},"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439")),a.a.createElement(un,null,t?a.a.createElement(pn,null):e.map((function(n){return a.a.createElement(W,{key:Math.random().toString(36).substr(2,9),ticket:n})})))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(jn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.8563de96.chunk.js.map